---
interface Props {
  route: '6' | '7' | '8' | '9' | '10';
  title: string;
  subtitle: string;
}

const { route, title, subtitle } = Astro.props;
const routes = ['6', '7', '8', '9', '10'] as const;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous" />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:wght@400;500;700&family=Literata:opsz,wght@7..72,400;500;700&display=swap"
      rel="stylesheet"
    />
    <title>{title}</title>
  </head>
  <body>
    <div class="scene-wrap">
      <div class="canvas-stage" aria-hidden="true">
        <slot name="background" />
        <div class="overlay"></div>
      </div>

      <main class="panel">
        <p class="tag">Canvas Nature {route}</p>
        <h1>{title}</h1>
        <p>{subtitle}</p>

        <nav class="switcher" aria-label="Canvas studies">
          {
            routes.map((id) => (
              <a class:list={{ current: id === route }} href={`/${id}`}>
                {id}
              </a>
            ))
          }
        </nav>

        <p class="meta">HTML canvas animation, tuned for subtle motion.</p>
        <a class="home-link" href="/">Back to Portfolio</a>
      </main>
    </div>
  </body>
</html>

<style>
  :global(html),
  :global(body) {
    margin: 0;
    min-height: 100%;
    background: #0f1c17;
  }

  :global(*) {
    box-sizing: border-box;
  }

  .scene-wrap {
    min-height: 100svh;
    position: relative;
    overflow: hidden;
    display: grid;
    place-items: center;
    font-family: 'Alegreya Sans', sans-serif;
    color: #e9f2ea;
    isolation: isolate;
  }

  .canvas-stage {
    position: absolute;
    inset: 0;
    z-index: -1;
    background: linear-gradient(145deg, #13241d, #192f26);
  }

  .overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
      radial-gradient(circle at 18% 16%, rgba(146, 192, 155, 0.09), transparent 44%),
      radial-gradient(circle at 82% 82%, rgba(169, 205, 177, 0.06), transparent 49%),
      linear-gradient(180deg, rgba(9, 16, 13, 0.24), rgba(9, 16, 13, 0.34));
  }

  .panel {
    width: min(580px, calc(100vw - 1.6rem));
    padding: clamp(1rem, 2.5vw, 1.45rem);
    border-radius: 16px;
    border: 1px solid rgba(176, 206, 182, 0.28);
    background: linear-gradient(145deg, rgba(19, 35, 27, 0.55), rgba(16, 28, 22, 0.66));
    box-shadow: 0 24px 64px -44px rgba(0, 0, 0, 0.72), inset 0 1px 0 rgba(196, 223, 201, 0.2);
    backdrop-filter: blur(14px) saturate(116%);
  }

  .tag {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    font-size: 0.72rem;
    opacity: 0.7;
  }

  h1 {
    margin: 0.45rem 0 0.5rem;
    font-family: 'Literata', serif;
    font-size: clamp(2rem, 5vw, 3rem);
    line-height: 0.98;
  }

  p {
    margin: 0;
    line-height: 1.5;
    opacity: 0.88;
    max-width: 48ch;
  }

  .switcher {
    margin-top: 1rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.45rem;
  }

  .switcher a {
    width: 2rem;
    height: 2rem;
    display: inline-grid;
    place-items: center;
    border-radius: 999px;
    color: inherit;
    text-decoration: none;
    font-size: 0.84rem;
    border: 1px solid rgba(156, 191, 164, 0.36);
    background: rgba(130, 165, 140, 0.13);
    transition: transform 220ms ease, border-color 220ms ease, background-color 220ms ease;
  }

  .switcher a:hover,
  .switcher a:focus-visible,
  .switcher a.current {
    transform: translateY(-1px);
    border-color: rgba(176, 218, 187, 0.62);
    background: rgba(130, 179, 145, 0.22);
  }

  .meta {
    margin-top: 0.65rem;
    font-size: 0.86rem;
    opacity: 0.68;
  }

  .home-link {
    display: inline-block;
    margin-top: 0.7rem;
    font-size: 0.86rem;
    color: inherit;
    opacity: 0.8;
    text-decoration-thickness: 1px;
    text-underline-offset: 0.18em;
  }
</style>
